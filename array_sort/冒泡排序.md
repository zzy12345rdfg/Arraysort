### 冒泡排序

#### 1. 描述

冒泡排序（Bubble Sort）也是一种简单直观的排序算法。它重复地走访过要排序的数列，一次比较两个元素，如果他们的顺序错误就把他们交换过来。走访数列的工作是重复地进行直到没有再需要交换，也就是说该数列已经排序完成。这个算法的名字由来是因为越小的元素会经由交换慢慢"浮"到数列的顶端。

时间复杂度：O(n^2) ，稳定性：稳定。

#### 2.算法步骤

- 比较相邻的元素。如果第一个比第二个大，就交换他们两个。
- 对每一对相邻元素作同样的工作，从开始第一对到结尾的最后一对。
- 重复上面的步骤，直到没有任何一对数字需要比较。

#### 3.实现

用二重循环实现，外循环变量设为i，内循环变量设为j。

思路：第一趟比较完成后，最后一个数一定是数组中最大的一个数，所以第二趟比较的时候最后一个数不参与比较；

第二趟比较完成后，倒数第二个数也一定是数组中第二大的数，所以第三趟比较的时候最后两个数不参与比较；

依次类推，每一趟比较次数-1；

由此可见：N个数字要排序完成，总共进行N-1趟排序，每i趟的排序次数为(N-i)次，所以可以用双重循环语句，外层控制循环多少趟，内层控制每一趟的循环次数。

#### 4.不足及改进

程序无法判断是否完成排序，为了解决这一不足，可设置一个标志。可以是int值或者bool值只要在代码循环过程中作为是否完成排序的标志。

#### 5.代码实现

```c#
namespace BubbleSort
{
    class Program
    {
        static void Main(string[] args)
        {
            int[] array = { 23, 45, 16, 7, 42 };            
            int length = array.Length - 1;
            bool isExchanged = false;
            for (int i = 0; i < length; i++)
            {
                isExchanged = false;
                //由小到大排序
                for (int j = 0; j < length - i; j++)
                {
                    if (array[j] > array[j + 1])
                    {
                        int temp = array[j];
                        array[j] = array[j + 1];
                        array[j + 1] = temp;

                        isExchanged = true;
                    }

                }
                ////由大到小排序
                //for (int j = length; j > i; j--)
                //{
                //    if (array[j] > array[j - 1])
                //    {
                //        int temp = array[j];
                //        array[j] = array[j - 1];
                //        array[j - 1] = temp;

                //        isExchanged = true;
                //    }
                //}
                if (!isExchanged)
                { //一遍比较过后如果没有进行交换则退出循环
                    break;
                }
            }
            foreach (int i in array)
            {
                Console.WriteLine(i);
            }
            Console.ReadKey();//暂停
        }

    }
}
```

