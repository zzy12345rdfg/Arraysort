### 希尔排序

#### 1. 描述

希尔排序，也称递减增量排序算法，是插入排序的一种更高效的改进版本。

它通过比较相距一定间隔的元素来进行，各趟比较所用的距离随着算法的进行而减小，直到只比较相邻元素的最后一趟排序为止。

时间复杂度：O(n log n) ，稳定性：不稳定。

#### 2.算法步骤

- 选择一个增量序列 t1，t2，……，tk，其中 ti > tj, tk = 1；
- 按增量序列个数 k，对序列进行 k 趟排序；
- 每趟排序，根据对应的增量 ti，将待排序列分割成若干长度为 m 的子序列，分别对各子表进行直接插入排序。仅增量因子为 1 时，整个序列作为一个表来处理，表长度即为整个序列的长度。

#### 3.实现

在此我们选择增量 gap=length/2，缩小增量以 gap = gap/2 的方式，用序列 {n/2,(n/2)/2...1}来表示。

#### 4.优点

希尔排序的时间性优于直接插入排序。

#### 5.代码实现

```c#
namespace shellSort
{
    class Program
    {
        //希尔排序
        static void Main(string[] args)
        {                      
            int[] array = { 7, 6, 14, 8, 22, 30, 2, 51, 4 };
            Console.WriteLine("希尔排序");
            Console.Write("待排序数组：");
            foreach (int a in array)
            {
                Console.Write(a + " ");
            }
            Console.WriteLine();

            int length = array.Length;
            int temp;            
            Console.WriteLine("数组长度："+length ); //9           
            for (int gap = length / 2; gap >= 1; gap /= 2)
            {
                
                Console.WriteLine("增量："+ gap);//4 2 1
                for (int i = gap; i < length; i++)
                {
                    
                    temp = array[i];                    
                    int j = i - gap;
                    while (j >= 0 && array[j] > temp)
                    {
                        array[j + gap] = array[j];
                        j -= gap;                        
                    }
                    array[j + gap] = temp;
                    
                }
                
            }
            
            Console.Write("已排序数组：");
            foreach (int i in array)
            {
                Console.Write(i + " ");
            }
            Console.ReadKey();
        }
    }
}
```

